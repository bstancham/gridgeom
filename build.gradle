/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * user guide available at https://docs.gradle.org/4.7/userguide/java_library_plugin.html
 */

plugins {
    // Apply the java-library plugin to add support for Java Library
    id 'java-library'
}

dependencies {
    // This dependency is exported to consumers, that is to say found on their compile classpath.
    api 'org.apache.commons:commons-math3:3.6.1'

    // This dependency is used internally, and not exposed to consumers on their own compile classpath.
    implementation 'com.google.guava:guava:23.0'

    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
}

// In this section you declare where to find the dependencies of your project
repositories {
    // Use jcenter for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
}

// apply plugin: 'java'

// sourceSets {

//     main {
//         // java {
//         //     srcDirs = ['src/java', 'src/testgui']
//         // }
//         java {
//             srcDirs = ['src/java']
//         }
//         // test {
//         //     srcDirs = ['src/test']
//         // }
//         // resources {
//         //     srcDirs = ['src/resources']
//         // }
//     }

//     testgui {
//         java {
//             srcDirs = ['src/testgui']
//         }
//     }
// }

// task testgui(type: build) {

// }

// task testguiJar (type: Jar) {
//     baseName = "gridtriang-testgui"

//     from(sourceSets.testgui)
    
//     // from('src/testgui/java/info/bschambers/gridtriang/testgui/App.java')
//     // from('info.bschambers.gridtriang.testgui.App')
// }

compileJava {
    // generate all debugger information
    options.compilerArgs += ["-g"]
}

task compileTestgui(type: JavaCompile) {
    // dependsOn jar
    dependsOn jar
    dependsOn test
    source = fileTree(dir: 'src/testgui', include: '**/*.java')
    destinationDir = file('build/classes/java/testgui')
    // sourceCompatibility = '1.7'
    // targetCompatibility = '1.7'
    // dependencyCacheDir = ???
    classpath = files('build/classes/java/main')
    // source 'src/testgui/java'
    // classpath = new FileCollection('build/libs/gridtriang.jar')
    // destinationDir = 'build/classes'
}

// task jarTestgui(type: Jar) {
//     dependsOn compileTestgui
//     baseName = 'gridtriang-testgui'
//     // source = fileTree(dir: 'build/classes/testgui', include: '**/*.class')
//     // source = files('build/classes/testgui')
//     source = files('src/testgui/java')
// }

task all {
    dependsOn compileTestgui
}
